document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("myForm");function t(e){let t=document.getElementById(`${e.id}-error`);if(t)t.textContent=e.validationMessage;else{let t=document.createElement("span");t.id=`${e.id}-error`,t.classList.add("error","text-danger"),t.textContent=e.validationMessage,e.parentNode.insertBefore(t,e.nextSibling)}e.classList.add("is-invalid")}async function n(e){try{return(await fetch("http://localhost:3000/cadastros",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok}catch(e){return console.error("Erro ao salvar os dados:",e),!1}}e.addEventListener("submit",async function(o){o.preventDefault();let a=document.getElementById("nomeCompleto"),l=document.getElementById("email"),d=document.getElementById("cpf"),r=document.getElementById("dataNascimento"),c=document.getElementById("telefoneCelular"),i=document.getElementById("telefoneFixo"),s=document.getElementById("promocoesWhatsApp"),m=document.getElementById("atualizacoesWhatsApp"),u=document.querySelector('input[name="genero"]:checked'),p=document.getElementById("senha");if(!e.checkValidity()){t(a),t(l),t(d),t(r),t(c),i&&t(i),t(p);return}let g={nome:a.value,email:l.value,cpf:d.value,dataNascimento:r.value,telefoneCelular:c.value,telefoneFixo:i?i.value:null,promocoesWhatsApp:s.checked,atualizacoesWhatsApp:m.checked,genero:u?u.value:null,senha:p.value};await n(g)?window.location.href="/app/pages/login/login.html":console.error("Erro ao realizar o cadastro. Tente novamente.")})});
//# sourceMappingURL=cadastro.d3f7bb0a.js.map
